<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="myCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById("myCanvas");
		const ctx = canvas.getContext("2d");
		const width = canvas.width;
		const height = canvas.heigth;      
        
        var rectangleH = 10;
        var rectangleW = 75;
        var rectangleX = (width - rectangleW) /2;
        var keyRPress = false;
        var keyLPress = false;
        
        function drawRectangle()
        {
            ctx.beginPath();
            ctx.rect(rectangleX, canvas.height - rectangleH - 2, rectangleW, rectangleH);
            ctx.fillStyle = "red";
            ctx.fill();
        }
        function draw()
        {
            ctx.fillStyle = "green";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            drawRectangle();
            if (keyRPress)
            {
                rectangleX +=5;
                if (rectangleX + rectangleW > canvas.width)
                {
                    rectangleX = canvas.width - rectangleW-2;
                }
            }
            else if(keyLPress)
            {
                rectangleX -=5;
                if (rectangleX < 2)
                {
                    rectangleX = 2;
                }
            }
            document.addEventListener("keydown", keyPush, false);
            document.addEventListener("keyup", keyPull, false);
            
            function keyPush(e) {
                if(e.key == "Right" || e.key == "ArrowRight") {
                    keyRPress = true;
                }
                else if(e.key == "Left" || e.key == "ArrowLeft") 
                {
                    keyLPress = true;
                }
            }
            function keyPull(e) {
                if(e.key == "Right" || e.key == "ArrowRight") {
                    keyRPress = false;
                }
                else if(e.key == "Left" || e.key == "ArrowLeft") 
                {
                    keyLPress = false;
                }
            }
        }
        setInterval(draw,10);
</script>
</body>
</html>